[["index.html", "gretl入門 1 はじめに", " gretl入門 村澤 康友 2025-04-13改訂 1 はじめに 統計・計量分析は表計算ソフトでも可能だが，計量経済分析ソフトを利用する方が便利である．本稿ではフリーの計量経済分析ソフトgretlで統計・計量分析を行う方法を解説する． "],["gretlの準備.html", "2 gretlの準備 2.1 gretlの入手 2.2 インストール 2.3 起動 2.4 言語の設定", " 2 gretlの準備 2.1 gretlの入手 大学の情報システムにはgretlをインストールしてあるが，必ずしも最新版ではない．下記のURLから最新版（Windows・Mac・Linux版がある）をダウンロードし，自分のPCにインストールするとよい． http://gretl.sourceforge.net/ Windows版は「gretl for Windows」のページにある． 2.2 インストール 2.2.1 自分のPCにインストールする場合 self-installer（32ビットか64ビット）のlatest releaseをクリック．後は「OK」をクリックしていけばよい． 2.2.2 インストールせずに単体で使う場合 zip archiveのlatest releaseをクリックし，自分のフォルダやUSBメモリに保存して解凍（右クリックして「すべて展開」）． 2.3 起動 デスクトップまたはインストールした場所のgretlのアイコン（gretl.exe）をクリック． 2.4 言語の設定 gretlのメニューは日本語化されている．出力が文字化けする場合は日本語フォントを以下の手順で設定する． メニューの「ツール」→「設定」→「等幅フォント」を選択． 「フォント名」で「MSゴシック」を選択． 「OK」をクリックし，gretlを一旦閉じて再起動． ただし日本語フォントだとエラーが出やすくなる．その場合は以下の手順で英語版に戻す． メニューの「ツール」→「設定」→「一般」を選択． 「言語設定」で「English」を選択し，「適用」をクリック． 「OK」をクリックし，gretlを一旦閉じて再起動． Windows版で半角英数字の入力に不具合が発生する場合はgretlを再起動する．不具合が解消しない場合はテキストエディタで入力した文字をコピペする． "],["分析の準備.html", "3 分析の準備 3.1 データの準備 3.2 データの追加 3.3 変数の作成 3.4 スクリプトの実行", " 3 分析の準備 3.1 データの準備 メニューの「ファイル」→「データを開く」→「サンプル・ファイル」以下にサンプル・データが用意されている．自分で用意したデータを分析する場合は，以下の要領でデータをgretlに読み込んで保存する． データの整理には表計算ソフト（Excel等）が便利である．各行が個体または観測時点，各列が変数を表す行列にデータを整理し（1行目は変数名），適当なファイル名（半角英数字）を付けて保存する．作業フォルダを用意し，そこに保存するとよい． gretlのメニューから「ファイル」→「データを開く」→「ユーザー・ファイル」を選択し，データ形式を選んでデータ・ファイルを開く．幾つかの質問に答えるとデータが読み込まれる． データはgretlのgdt形式で保存しておくのが便利である．メニューから「ファイル」→「データを保存」を選択して保存する．gdt形式のデータを開くには，メニューから「ファイル」→「データを開く」→「ユーザー・ファイル」を選択する． 3.2 データの追加 複数のファイルに分割されたデータは，以下の手順で1つのまとめる． 1つ目のデータ・ファイルを前項の手順で開く． gretlのメニューから「ファイル」→「データを追加する」を選択し，データ形式を選んで2つ目のデータ・ファイルを開く．通常は「単純な追加」でデータが読み込まれる． 3つ目以降も同様． 3.3 変数の作成 gretlでデータを加工する方法は2つある． メニューの「追加」以下で簡単な変換（対数・2乗・ラグ・階差・指数化・標準化など）や変数の作成（トレンド・各種ダミー・疑似乱数など）ができる．ただしダミー変数は離散データからしか作れないので，「変数」→「属性を編集」で「この変数を離散変数として扱う」にチェックを入れておく． 複雑な変換はメニューから「追加」→「新規変数の定義」を選択し，新しい変数を式で定義する． また「変数」→「欠損値コードを設定」で欠損値コードを入力すると欠損値が空欄となる． 3.4 スクリプトの実行 マウスで操作できるのがgretlの長所だが，単純なマウス操作の繰り返しは面倒である．マウス操作をスクリプト・ファイルとして保存すれば，簡単に再実行できる． 「ツール」→「コマンド・ログ」でマウス操作の履歴が確認できる．右クリックして「スクリプト・エディタで開く」を選択し，「保存」のアイコンをクリックしてgretlスクリプトとして保存する（ファイル名に拡張子.inpを付ける）． 「ファイル」→「スクリプト・ファイル」→「ユーザーファイル」で保存したスクリプトを開き，「実行」のアイコンをクリックして実行する． "],["基本統計分析.html", "4 基本統計分析 4.1 1変量データ 4.2 多変量データ", " 4 基本統計分析 4.1 1変量データ 人為的ミスを防ぐためにも必ず基本統計量やデータのプロットを確認する．メニューの「変数」以下で1変量データの簡単な分析ができる． 値を表示 基本統計量 正規性検定 度数分布 推定された密度プロット 箱ひげ図 正規Q–Qプロット ジニ係数 レンジ・平均グラフ 時系列プロット コレログラム ピリオドグラム フィルタ（時系列データの各種平滑化） ハースト指数 4.2 多変量データ メニューの「表示」以下で多変量データの簡単な分析ができる． 変数のグラフ マルチ・グラフ 基本統計量 相関行列 クロス集計 主成分分析 マハラノビス距離 相互相関係数 "],["変量線形回帰モデルの推定.html", "5 1変量線形回帰モデルの推定 5.1 古典的線形回帰モデル 5.2 一般化線形回帰モデル", " 5 1変量線形回帰モデルの推定 5.1 古典的線形回帰モデル 古典的線形回帰モデルのOLS推定は以下の手順で実行する． メニューから「モデル」→「通常の最小二乗法」を選択． 「従属変数」を1つ選択． 「説明変数（回帰変数）」を選択． 「OK」をクリック． 結果の画面でメニューから追加的な分析やグラフの表示ができる． 「検定」→「不均一分散」で不均一分散の存在を検定できる（Whiteの検定・Breusch–PaganのLM検定）． 「検定」→「自己相関」で系列相関の存在を検定できる（Breusch–GodfreyのLM検定）． 「グラフ」→「理論値・実績値プロット」→「対」で回帰直線が図示される． 「分析」→「係数の信頼区間」で回帰係数の95％信頼区間が求まる． 5.2 一般化線形回帰モデル 5.2.1 OLS 一般化線形回帰モデルのOLS推定は以下の手順で実行する． メニューから「モデル」→「通常の最小二乗法」を選択． 「従属変数」を1つ選択． 「説明変数（回帰変数）」を選択． 「頑健標準誤差を使用する」をチェック． 「OK」をクリック． これで頑健（robust）な標準誤差が得られる． 5.2.2 GLS（横断面データ） 条件つき不均一分散をもつ線形回帰モデルのGLS推定は以下の手順で実行する． メニューから「モデル」→「その他の線形モデル」→「不均一分散を修正した推定」を選択． 「従属変数」を1つ選択． 「説明変数（回帰変数）」を選択． 「OK」をクリック． 5.2.3 GLS（時系列データ） 系列相関をもつ線形回帰モデルのGLS推定は以下の手順で実行する． メニューから「モデル」→「Univariate time series」→「自己回帰（AR）モデル（GLS）」→「1階の自己回帰過程（AR(1)）」を選択． 「プレス＝ウィンステン（Prais–Winsten）法」をチェック． 「従属変数」を1つ選択． 「説明変数（回帰変数）」を選択． 「OK」をクリック． "],["多変量線形モデルの推定.html", "6 多変量線形モデルの推定 6.1 多変量線形回帰モデル 6.2 線形同時方程式モデル", " 6 多変量線形モデルの推定 6.1 多変量線形回帰モデル SURモデルのGLS推定は以下の手順で実行する． メニューから「モデル」→「同時方程式（連立方程式）」を選択． 以下のようにSURモデルを記述する． equation y_1 const x_1 ... x_k ... equation y_m const x_1 ... x_k ただし\\(y_1,\\dots,y_m\\)は被説明変数，\\(x_1,\\dots,x_k\\)は説明変数． 「推定量」で「見かけ上無相関な回帰（sur）」を選択． 「OK」をクリック． 6.2 線形同時方程式モデル 線形同時方程式モデルの各式の2SLS推定は以下の手順で実行する． メニューから「モデル」→「操作変数法」→「2段階最小二乗法」を選択． 「従属変数」を1つ選択． 「説明変数（回帰変数）」を選択． 「操作変数」を選択． 「OK」をクリック． "],["制限従属変数モデルの推定.html", "7 制限従属変数モデルの推定 7.1 2値プロビット・モデル 7.2 トービット・モデル", " 7 制限従属変数モデルの推定 7.1 2値プロビット・モデル プロビット・モデルのML推定は以下の手順で実行する． メニューから「モデル」→「制限従属変数」→「プロビット」→「二項（Binary）」を選択． 「従属変数」を1つ選択． 「説明変数（回帰変数）」を選択． 「OK」をクリック． 7.2 トービット・モデル トービット・モデルのML推定は以下の手順で実行する． メニューから「モデル」→「制限従属変数」→「トービット」を選択． 「従属変数」を1つ選択． 「説明変数（回帰変数）」を選択． 「OK」をクリック． "],["パネルデータによる推定.html", "8 パネル・データによる推定", " 8 パネル・データによる推定 パネル・データによる線形回帰モデルの推定は以下の手順で実行する． メニューから「モデル」→「パネル」→「固定効果あるいは変量効果」を選択． 「従属変数」を1つ選択． 「説明変数（回帰変数）」を選択． 「固定効果」か「変量効果（ランダム効果）」をチェック． 「OK」をクリック． "],["時系列モデルの推定.html", "9 時系列モデルの推定 9.1 ARIMAモデル 9.2 VARモデル", " 9 時系列モデルの推定 9.1 ARIMAモデル ARIMAモデルのML推定は以下の手順で実行する． メニューから「モデル」→「一変量時系列」→「ARIMA」を選択． 「従属変数」を1つ選択． 「説明変数（回帰変数）」は選択しない． AR次数，和分次数，MA次数を選択． 「OK」をクリック． 9.2 VARモデル VARモデルのOLS推定は以下の手順で実行する． メニューから「モデル」→「多変量時系列」→「ベクトル自己回帰モデル（VAR）」を選択． 「内生変数」を選択． 「外生変数」は選択しない． ラグ次数を選択． 「OK」をクリック． "]]
